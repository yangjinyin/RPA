Xa prepare:

```c++
Thread 63 "connection" hit Breakpoint 1, MYSQL_BIN_LOG::ordered_commit (this=0x528e9e0 <mysql_bin_log>, thd=0x7f9b72eed800, all=true, skip_commit=true) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/binlog.cc:8905
8905	  my_off_t total_bytes = 0;
(gdb) bt
#0  MYSQL_BIN_LOG::ordered_commit (this=0x528e9e0 <mysql_bin_log>, thd=0x7f9b72eed800, all=true, skip_commit=true) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/binlog.cc:8905
#1  0x00000000021926d6 in MYSQL_BIN_LOG::commit (this=0x528e9e0 <mysql_bin_log>, thd=0x7f9b72eed800, all=<optimized out>)
    at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/binlog.cc:8346
#2  0x00000000019a82fa in (anonymous namespace)::process_xa_prepare (thd=0x7f9b72eed800) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/xa/sql_xa_prepare.cc:235
#3  Sql_cmd_xa_prepare::trans_xa_prepare (this=<optimized out>, thd=<optimized out>) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/xa/sql_xa_prepare.cc:173
#4  0x00000000019a885f in Sql_cmd_xa_prepare::execute (this=<optimized out>, thd=0x7f9b72eed800) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/xa/sql_xa_prepare.cc:101
#5  0x00000000014b7e03 in mysql_execute_command (thd=0x7f9b72eed800, first_level=<optimized out>) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/sql_parse.cc:4938
#6  0x00000000014bab0d in dispatch_sql_command (thd=0x7f9b72eed800, parser_state=<optimized out>) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/sql_parse.cc:5695
#7  0x00000000014bd197 in dispatch_command (thd=0x7f9b72eed800, com_data=<optimized out>, command=COM_QUERY) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/sql_parse.cc:2258
#8  0x00000000014bde6f in do_command (thd=thd@entry=0x7f9b72eed800) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/sql_parse.cc:1591
#9  0x000000000161f450 in handle_connection (arg=arg@entry=0x7f9ca6b4d320) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/conn_handler/connection_handler_per_thread.cc:306
#10 0x0000000002af1852 in pfs_spawn_thread (arg=0x7f9ccc03e260) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/storage/perfschema/pfs.cc:2991
#11 0x00007f9ccc6a9da4 in start_thread (arg=<optimized out>) at pthread_create.c:333
#12 0x00007f9ccc5e832d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109
```



Xa commit:

```c++
Thread 63 "connection" hit Breakpoint 1, MYSQL_BIN_LOG::ordered_commit (this=0x528e9e0 <mysql_bin_log>, thd=0x7f9b72eed800, all=true, skip_commit=false) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/binlog.cc:8905
8905	  my_off_t total_bytes = 0;
(gdb) bt
#0  MYSQL_BIN_LOG::ordered_commit (this=0x528e9e0 <mysql_bin_log>, thd=0x7f9b72eed800, all=true, skip_commit=false) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/binlog.cc:8905
#1  0x00000000021926d6 in MYSQL_BIN_LOG::commit (this=0x528e9e0 <mysql_bin_log>, thd=0x7f9b72eed800, all=<optimized out>)
    at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/binlog.cc:8346
#2  0x00000000015f207a in Sql_cmd_xa_commit::process_detached_xa_commit (this=0x7f9c97174588, thd=0x7f9b72eed800)
    at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/xa/sql_xa_commit.cc:205
#3  0x00000000015f2211 in Sql_cmd_xa_commit::trans_xa_commit (this=0x7f9c97174588, thd=0x7f9b72eed800) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/xa/sql_xa_commit.cc:88
#4  0x00000000015f2281 in Sql_cmd_xa_commit::execute (this=<optimized out>, thd=0x7f9b72eed800) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/xa/sql_xa_commit.cc:63
#5  0x00000000014b7e03 in mysql_execute_command (thd=0x7f9b72eed800, first_level=<optimized out>) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/sql_parse.cc:4938
#6  0x00000000014bab0d in dispatch_sql_command (thd=0x7f9b72eed800, parser_state=<optimized out>) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/sql_parse.cc:5695
#7  0x00000000014bd197 in dispatch_command (thd=0x7f9b72eed800, com_data=<optimized out>, command=COM_QUERY) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/sql_parse.cc:2258
#8  0x00000000014bde6f in do_command (thd=thd@entry=0x7f9b72eed800) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/sql_parse.cc:1591
#9  0x000000000161f450 in handle_connection (arg=arg@entry=0x7f9ca6b4d320) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/sql/conn_handler/connection_handler_per_thread.cc:306
#10 0x0000000002af1852 in pfs_spawn_thread (arg=0x7f9ccc03e260) at /ssd1/yangjinyin/source/gaia-mysql-raw/baidu/dba/gaiadb-mysql/storage/perfschema/pfs.cc:2991
#11 0x00007f9ccc6a9da4 in start_thread (arg=<optimized out>) at pthread_create.c:333
#12 0x00007f9ccc5e832d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109
```

